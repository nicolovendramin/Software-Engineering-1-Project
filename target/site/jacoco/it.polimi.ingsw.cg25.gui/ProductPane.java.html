<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>ProductPane.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">cg25</a> &gt; <a href="index.source.html" class="el_package">it.polimi.ingsw.cg25.gui</a> &gt; <span class="el_source">ProductPane.java</span></div><h1>ProductPane.java</h1><pre class="source lang-java linenums">package it.polimi.ingsw.cg25.gui;

import java.awt.Color;
import java.awt.Dimension;
import java.awt.Font;
import java.awt.Image;
import java.io.File;
import java.io.IOException;

import javax.imageio.ImageIO;
import javax.swing.ImageIcon;
import javax.swing.JLabel;
import javax.swing.JLayeredPane;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.ScrollPaneConstants;
import javax.swing.SwingUtilities;

import it.polimi.ingsw.cg25.model.dto.DTOPermitCard;
import it.polimi.ingsw.cg25.model.dto.DTOPoliticsCard;
import it.polimi.ingsw.cg25.model.dto.dtoproduct.DTOProduct;
import it.polimi.ingsw.cg25.model.dto.dtoproduct.DTOProductBonus;
import it.polimi.ingsw.cg25.model.dto.dtoproduct.DTOProductPermit;
import it.polimi.ingsw.cg25.model.dto.dtoproduct.DTOProductPoliticsCard;
import it.polimi.ingsw.cg25.model.dto.dtoproduct.DTOSellable;
/**
 * 
 * @author nicolo
 *
 */
@SuppressWarnings(&quot;serial&quot;)
public class ProductPane extends JPanel{

	/**
	 * This container stores the element to display
	 */
<span class="nc" id="L37">	private JLayeredPane myLayeredPane = new JLayeredPane();</span>
	/**
	 * The label containing the price and the image of the coin
	 */
<span class="nc" id="L41">	private JLabel priceLabel = new JLabel();</span>
	/**
	 * The label in which is shown the name of the seller
	 */
<span class="nc" id="L45">	private JLabel ownerLabel = new JLabel();</span>
	/**
	 * The Jpanel in which are inserted the elements contained in the product
	 */
<span class="nc" id="L49">	private JPanel cardPanel = new JPanel();</span>
	
	/**
	 * Constructor
	 * @param product is the product that the ProductPane should represent in graphics
	 * @param font is the font to be used for all the texts
	 */
<span class="nc" id="L56">	public ProductPane(DTOProduct&lt;? extends DTOSellable&gt; product,Font font){</span>
<span class="nc" id="L57">		this.setBounds(0,0,145,100);</span>
<span class="nc" id="L58">		this.setLayout(null);</span>
<span class="nc" id="L59">		this.add(myLayeredPane);</span>
<span class="nc" id="L60">		myLayeredPane.setLayout(null);;</span>
<span class="nc" id="L61">		myLayeredPane.setBounds(0,0,145,100);</span>
<span class="nc" id="L62">		ownerLabel.setText(&quot;Sold by : &quot;.concat(product.getOwner().getName()));</span>
<span class="nc" id="L63">		ownerLabel.setFont(new Font(font.getFontName(),Font.BOLD,15));</span>
<span class="nc" id="L64">		ownerLabel.setOpaque(false);</span>
<span class="nc" id="L65">		ownerLabel.setBounds(10,70,145,20);</span>
<span class="nc" id="L66">		ownerLabel.setOpaque(false);</span>
<span class="nc" id="L67">		priceLabel.setOpaque(false);</span>
<span class="nc" id="L68">		this.myLayeredPane.add(ownerLabel);</span>
<span class="nc" id="L69">		this.setOpaque(false);</span>
<span class="nc" id="L70">		myLayeredPane.setOpaque(false);</span>
<span class="nc" id="L71">		myLayeredPane.add(priceLabel);</span>
<span class="nc" id="L72">		priceLabel.setText(Integer.toString(product.getPrice()));</span>
<span class="nc" id="L73">		priceLabel.setForeground(Color.BLACK);</span>
<span class="nc" id="L74">		priceLabel.setHorizontalTextPosition(SwingUtilities.CENTER);</span>
<span class="nc" id="L75">		priceLabel.setVerticalTextPosition(SwingUtilities.TOP);</span>
<span class="nc" id="L76">		priceLabel.setToolTipText(product.toString());</span>
<span class="nc" id="L77">		priceLabel.setFont(new Font(font.getFontName(),Font.BOLD,15));</span>
<span class="nc" id="L78">		priceLabel.setBounds(115, 5, 30, 55);</span>
		try {
<span class="nc" id="L80">			priceLabel.setIcon(new ImageIcon(ImageIO.read(new File(&quot;src/main/resources/coinIcon.png&quot;)).getScaledInstance(30, 30, Image.SCALE_SMOOTH)));</span>
<span class="nc" id="L81">		} catch (IOException e) {</span>
<span class="nc" id="L82">			e.printStackTrace();</span>
<span class="nc" id="L83">		}</span>
<span class="nc" id="L84">		cardPanel.setLayout(null);</span>
<span class="nc" id="L85">		cardPanel.setOpaque(false);</span>
<span class="nc" id="L86">		cardPanel.setBounds(0, 0, 50, 50);</span>
<span class="nc" id="L87">		JScrollPane scroll = new JScrollPane(cardPanel);</span>
<span class="nc" id="L88">		scroll.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_NEVER);</span>
<span class="nc" id="L89">		scroll.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED);</span>
<span class="nc" id="L90">		scroll.setBounds(0, 0, 110, 70);</span>
<span class="nc" id="L91">		scroll.setOpaque(false);</span>
<span class="nc" id="L92">		scroll.getViewport().setOpaque(false);</span>
<span class="nc" id="L93">		scroll.setBorder(null);</span>
<span class="nc" id="L94">		this.myLayeredPane.add(scroll);</span>
<span class="nc bnc" id="L95" title="All 2 branches missed.">		if(product instanceof DTOProductBonus){</span>
<span class="nc" id="L96">			DTOProductBonus bonusProd = (DTOProductBonus)product;</span>
<span class="nc" id="L97">			cardPanel.add(new BonusPanel(bonusProd.getItemsToSell().get(0),font));</span>
		}
<span class="nc bnc" id="L99" title="All 2 branches missed.">		if(product instanceof DTOProductPoliticsCard){</span>
<span class="nc" id="L100">			DTOProductPoliticsCard bonusProd = (DTOProductPoliticsCard)product;</span>
<span class="nc" id="L101">			int offset = 0;</span>
<span class="nc bnc" id="L102" title="All 2 branches missed.">			for(DTOPoliticsCard c : bonusProd.getItemsToSell()){</span>
<span class="nc" id="L103">				PoliticsCardLabel label = new PoliticsCardLabel(c, 30, 42);</span>
<span class="nc" id="L104">				cardPanel.add(label);</span>
<span class="nc" id="L105">				label.setBounds(offset,3,label.getWidth(),label.getHeight());</span>
<span class="nc" id="L106">				offset= offset + label.getWidth()+5;</span>
<span class="nc" id="L107">				cardPanel.setPreferredSize(new Dimension(offset,cardPanel.getHeight()));</span>
<span class="nc" id="L108">			}</span>
		}
<span class="nc bnc" id="L110" title="All 2 branches missed.">		if(product instanceof DTOProductPermit){</span>
<span class="nc" id="L111">			DTOProductPermit bonusProd = (DTOProductPermit)product;</span>
<span class="nc" id="L112">			int offset = 0;</span>
<span class="nc bnc" id="L113" title="All 2 branches missed.">			for(DTOPermitCard c : bonusProd.getItemsToSell()){</span>
<span class="nc" id="L114">				PermitPane label = new PermitPane(font,c);</span>
<span class="nc" id="L115">				cardPanel.add(label);</span>
<span class="nc" id="L116">				label.setBounds(offset,3,label.getWidth(),label.getHeight());</span>
<span class="nc" id="L117">				offset= offset + label.getWidth()+5;</span>
<span class="nc" id="L118">				cardPanel.setPreferredSize(new Dimension(offset,cardPanel.getHeight()));</span>
<span class="nc" id="L119">			}</span>
		}
<span class="nc" id="L121">	}</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.6.201602180812</span></div></body></html>